'use strict';exports.__esModule=true;exports.CloseButton=exports.Panel=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=require('react');var _react2=_interopRequireDefault(_react);var _ButtonIcon=require('./Form/ButtonIcon');var _ButtonIcon2=_interopRequireDefault(_ButtonIcon);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return call&&(typeof call==='object'||typeof call==='function')?call:self}function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Panel=exports.Panel=function Panel(_ref){var isActive=_ref.isActive,i=_ref.index,children=_ref.children;return _react2.default.createElement('div',{id:'tab-default-'+i,className:'slds-tabs_default__content slds-'+(isActive?'show':'hide'),role:'tabpanel','aria-labelledby':'tab-default-'+i+'__item'},children)};var CloseButton=exports.CloseButton=function CloseButton(_ref2){var title=_ref2.title,onClick=_ref2.onClick;return _react2.default.createElement('div',{className:'slds-col_bump-left slds-p-left_none slds-p-right_none'},_react2.default.createElement(_ButtonIcon2.default,{type:'button',variant:'utility',icon:'close',withContainer:true,iconSize:'x-small',title:'Close '+title,onClick:onClick,assistiveText:'Close '+title}))};// eslint-disable-next-line
var SubTab=function(_PureComponent){_inherits(SubTab,_PureComponent);function SubTab(){var _temp,_this,_ret;_classCallCheck(this,SubTab);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,_PureComponent.call.apply(_PureComponent,[this].concat(args))),_this),_this.state={active:_this.props.selectedIndex||0},_this.handleClick=function(e,i){_this.setState({active:i});return e},_temp),_possibleConstructorReturn(_this,_ret)}SubTab.prototype.render=function render(){var _this2=this;var children=this.props.children;var panels=_react2.default.Children.toArray(children).filter(function(c){return c.type===Panel});var active=this.state.active;// eslint-disable-next-line
var url='javascript:void(0);';return _react2.default.createElement('div',{className:'slds-tabs_default slds-sub-tabs'},_react2.default.createElement('ul',{className:'slds-tabs_default__nav',role:'tablist'},panels.map(function(c,i){var _c$props=c.props,title=_c$props.title,tabIndex=_c$props.tabIndex,_c$props$withCloseBut=_c$props.withCloseButton,withCloseButton=_c$props$withCloseBut===undefined?false:_c$props$withCloseBut,onClose=_c$props.onClose;return _react2.default.createElement('li',{key:i,className:'slds-tabs_default__item  slds-sub-tabs__item slds-grid slds-grid_vertical-align-center '+(active===i?'slds-active':''),title:title,role:'presentation'},_react2.default.createElement('a',{className:'slds-tabs_default__link',href:url,role:'tab',tabIndex:tabIndex,'aria-selected':active,'aria-controls':'tab-default-'+i,id:'tab-default-'+i+'__item',onClick:function onClick(e){_this2.handleClick(e,i);if(c.props.onTabClick){c.props.onTabClick(i)}}},title),withCloseButton?_react2.default.createElement(CloseButton,{title:title,onClick:onClose}):null)})),panels.map(function(c,i){// eslint-disable-next-line
var panelProps=_objectWithoutProperties(c.props,[]);return _react2.default.createElement(Panel,_extends({key:i,index:i,isActive:active===i},panelProps))}))};return SubTab}(_react.PureComponent);exports.default=SubTab;