'use strict';exports.__esModule=true;var _typeof=typeof Symbol==='function'&&typeof Symbol.iterator==='symbol'?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==='function'&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=require('react');var _react2=_interopRequireDefault(_react);var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=require('lodash');var _utils=require('./utils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var Content=function Content(props){if(props.data===null){return null}return _react2.default.createElement('tbody',null,props.data.map(function(d,i){var firstNonActionable=props.headers.filter(function(col){return col.type!=='checkbox'})[0].key;return _react2.default.createElement('tr',{key:i},props.headers.map(function(col,idx){if(typeof col.visible!=='undefined'&&!col.visible){return null}if(col.type==='checkbox'){return _react2.default.createElement(LocalCheckbox,_extends({position:'content'},col))}// Accessibility
var isNonActionable=col.key===firstNonActionable;var elem=isNonActionable?'th':'td';var tdProps={scope:isNonActionable?'row':null,key:idx};var cellValue=d[col.key];var children=_react2.default.createElement('div',{className:'slds-truncate',title:cellValue},cellValue);if((typeof cellValue==='undefined'?'undefined':_typeof(cellValue))==='object'&&(0,_utils.isDefined)(cellValue.customCell)){children=_react2.default.createElement('div',{className:'slds-truncate',title:cellValue.title||null},cellValue.customCell)}return _react2.default.createElement(elem,tdProps,children)}))}))};var cbHeaderId='check-group-header-'+(0,_lodash.uniqueId)();var LocalCheckbox=function LocalCheckbox(props){var assistiveText=props.assistiveText,position=props.position,text=props.text,cbProps=_objectWithoutProperties(props,['assistiveText','position','text']);var id='table-cb-'+(0,_lodash.uniqueId)();if(position==='header'){return _react2.default.createElement('th',{scope:'col'},_react2.default.createElement('span',{id:cbHeaderId,className:'slds-assistive-text'},assistiveText||'Choose a row'),_react2.default.createElement('div',{className:'slds-th__action slds-th__action_form'},_react2.default.createElement('span',{className:'slds-checkbox'},_react2.default.createElement('input',_extends({type:'checkbox',name:'options',id:id,tabIndex:'-1','aria-labelledby':'check-select-all-'+id+' '+cbHeaderId},cbProps)),_react2.default.createElement('label',{className:'slds-checkbox__label',htmlFor:id,id:'check-select-all-'+id},_react2.default.createElement('span',{className:'slds-checkbox_faux'}),_react2.default.createElement('span',{className:'slds-form-element__label slds-assistive-text'},text||'Select All')))))}if(position==='content'){return _react2.default.createElement('td',{role:'gridcell'},_react2.default.createElement('span',{className:'slds-checkbox'},_react2.default.createElement('input',{type:'checkbox',name:'options',id:'checkbox-'+id,tabIndex:'-1','aria-labelledby':'check-button-label-'+id+' '+cbHeaderId}),_react2.default.createElement('label',{className:'slds-checkbox__label',htmlFor:'checkbox-'+id,id:'check-button-label-'+id},_react2.default.createElement('span',{className:'slds-checkbox_faux'}),_react2.default.createElement('span',{className:'slds-form-element__label slds-assistive-text'},'Select item 1'))))}return null};var Header=function Header(props){if(props.data===null){return null}return _react2.default.createElement('thead',null,_react2.default.createElement('tr',{className:'slds-text-title_caps'},props.data.map(function(col){if(typeof col.visible!=='undefined'&&!col.visible){return null}if(typeof col.customHeader!=='undefined'){return _react2.default.createElement('th',{key:col.key,scope:'col'},col.customHeader)}if(col.type==='checkbox'){return _react2.default.createElement(LocalCheckbox,_extends({position:'header'},col))}return _react2.default.createElement('th',{key:col.key,scope:'col'},_react2.default.createElement('div',{className:'slds-truncate',title:col.text},col.text))})))};var DataTable=function DataTable(props){var className=(0,_utils.createClassName)(props.className,'slds-table','slds-table_bordered'// 'slds-max-medium-table_stacked-horizontal',
);var headers=props.headers,data=props.data,tableProps=_objectWithoutProperties(props,['headers','data']);return _react2.default.createElement('table',_extends({},tableProps,{className:className}),_react2.default.createElement(Header,{data:headers}),_react2.default.createElement(Content,{headers:headers,data:data}))};exports.default=DataTable;