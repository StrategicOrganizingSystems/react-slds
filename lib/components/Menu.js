'use strict';exports.__esModule=true;var _react=require('react');var _react2=_interopRequireDefault(_react);var _lodash=require('lodash.remove');var _lodash2=_interopRequireDefault(_lodash);var _Icon=require('./Icon');var _Icon2=_interopRequireDefault(_Icon);var _Svg=require('./Svg');var _Svg2=_interopRequireDefault(_Svg);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return call&&(typeof call==='object'||typeof call==='function')?call:self}function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MenuItem=function(_Component){_inherits(MenuItem,_Component);function MenuItem(props){_classCallCheck(this,MenuItem);var _this=_possibleConstructorReturn(this,_Component.call(this,props));_this.handleChange=_this.handleChange.bind(_this);return _this}MenuItem.prototype.handleChange=function handleChange(e){if(this.props.handleChange){this.props.handleChange(e)}};MenuItem.prototype.render=function render(){var _props=this.props,name=_props.name,value=_props.value,isCheck=_props.isCheck;return _react2.default.createElement('li',{className:'slds-dropdown__item',role:'presentation'},_react2.default.createElement('a',{href:'javascript:void(0);',role:'menuitem'},_react2.default.createElement('span',{className:'slds-truncate',title:value},_react2.default.createElement('input',{type:'checkbox',checked:isCheck,value:name,onChange:this.handleChange}),value)))};return MenuItem}(_react.Component);var Menu=function(_Component2){_inherits(Menu,_Component2);function Menu(props){_classCallCheck(this,Menu);var _this2=_possibleConstructorReturn(this,_Component2.call(this,props));_this2.state={value:[]};_this2.handleChange=_this2.handleChange.bind(_this2);return _this2}Menu.prototype.handleChange=function handleChange(e){// console.log(e.value, e.checked);
var value=this.state.value;if(e.target.checked){if(!value.includes(e.target.value)){value.push(e.target.value)}}if(!e.target.checked){(0,_lodash2.default)(value,function(n){return n===e.target.value})}if(this.props.handleChange){this.props.handleChange({value:value})}};Menu.prototype.renderItem=function renderItem(){var _this3=this;var options=this.props.options;return options.map(function(_ref,i){var name=_ref.name,value=_ref.value,isCheck=_ref.isCheck;return _react2.default.createElement(MenuItem,{key:i,name:name,value:value,isCheck:isCheck||null,handleChange:_this3.handleChange})})};Menu.prototype.render=function render(){var _props2=this.props,label=_props2.label,isOpen=_props2.isOpen;var isOpenClass='';if(isOpen){isOpenClass='slds-dropdown-trigger_click slds-is-open'}return _react2.default.createElement('div',{className:'slds-dropdown-trigger '+isOpenClass},_react2.default.createElement('button',{className:'slds-button slds-button_icon slds-button_icon-border-filled','aria-haspopup':'true',title:label||null},_react2.default.createElement('span',null,' ',_react2.default.createElement('label',null,label,'asdasd '),_react2.default.createElement(_Svg2.default,{variant:'utility',icon:'down',className:'slds-button__icon slds-float_right'})),_react2.default.createElement('span',{className:'slds-assistive-text'},label||null)),_react2.default.createElement('div',{className:'slds-dropdown slds-dropdown_left'},_react2.default.createElement('ul',{className:'slds-dropdown__list',role:'menu'},this.renderItem())))};return Menu}(_react.Component);exports.default=Menu;