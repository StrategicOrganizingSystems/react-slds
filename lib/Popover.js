'use strict';exports.__esModule=true;exports.Content=exports.Footer=exports.Header=exports.CloseButton=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=require('react');var _react2=_interopRequireDefault(_react);var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=require('lodash');var _utils=require('./utils');var _Svg=require('./Svg');var _Svg2=_interopRequireDefault(_Svg);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}// new Svg
var CloseButton=function CloseButton(_ref){var inverse=_ref.inverse,props=_objectWithoutProperties(_ref,['inverse']);return _react2.default.createElement('button',_extends({className:(0,_utils.createClassName)('slds-button','slds-button_icon','slds-button_icon-small','slds-float_right','slds-popover__close','slds-button_icon'+(inverse?'-inverse':'')),title:'Close dialog'},props),_react2.default.createElement(_Svg2.default,{className:'slds-button__icon',icon:'close',assistiveText:'Close dialog'}))};exports.CloseButton=CloseButton;var Header=exports.Header=function Header(props){return _react2.default.createElement('header',_extends({},props,{className:(0,_utils.createClassName)('slds-popover__header',props.className)}))};var Footer=exports.Footer=function Footer(props){return _react2.default.createElement('footer',_extends({},props,{className:(0,_utils.createClassName)('slds-popover__footer',props.className)}))};var Content=exports.Content=function Content(props){return _react2.default.createElement('div',_extends({},props,{className:(0,_utils.createClassName)('slds-popover__body',props.className)}))};var Popover=function Popover(props){var nubbin=props.nubbin,size=props.size,role=props.role,show=props.show,withCloseButton=props.withCloseButton,onClickClose=props.onClickClose,title=props.title,hasError=props.hasError,extraProps=_objectWithoutProperties(props,['nubbin','size','role','show','withCloseButton','onClickClose','title','hasError']);var bodyId='dialog-body-'+props.id;var className=(0,_utils.createClassName)(props.className,'slds-popover',nubbin?'slds-nubbin_'+nubbin:'',size?'slds-popover_'+size:'',role?'slds-popover_'+role:'',show?'slds-rise-from-ground':'slds-fall-into-ground',(0,_utils.isDefined)(hasError)&&hasError?'slds-popover_error':'');var mainProps=_extends({},extraProps,{className:className,'aria-describedby':bodyId,'arial-label':title,role:role});var children=_react2.default.Children.toArray(props.children);var withContent=children.filter(function(child){return child.type===Content}).length;if(withContent){children=children.filter(function(child){return(0,_lodash.includes)([Header,Footer,Content],child.type)})}return _react2.default.createElement('section',mainProps,withCloseButton?_react2.default.createElement(CloseButton,{onClick:onClickClose,inverse:(0,_utils.isDefined)(hasError)&&hasError}):null,children.map(function(child,i){if((0,_lodash.includes)([Header,Footer,Content],child.type)){return _extends({},child,{key:i})}// no Content tag
return _react2.default.createElement(Content,{id:bodyId,key:i},child)}))};var NUBBINS=['top','top-left','top-right','bottom','bottom-left','bottom-right','left','left-top','left-bottom','right','right-top','right-bottom'];var SIZES=['small','medium','large'];Popover.defaultProps={type:'section',id:'popover-'+(0,_lodash.uniqueId)(),role:'dialog',show:true,withCloseButton:false,onClickClose:function onClickClose(){}};Popover.propTypes={role:_propTypes2.default.oneOf(['dialog','tooltip']),nubbin:_propTypes2.default.oneOf(NUBBINS),size:_propTypes2.default.oneOf(SIZES)};exports.default=Popover;