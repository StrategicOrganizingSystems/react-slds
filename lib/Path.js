'use strict';exports.__esModule=true;exports.Item=exports.ActionButton=exports.Coaching=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=require('react');var _react2=_interopRequireDefault(_react);var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=require('lodash.uniqueid');var _lodash2=_interopRequireDefault(_lodash);var _utils=require('./utils');var _Svg=require('./components/Svg');var _Svg2=_interopRequireDefault(_Svg);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var Coaching=exports.Coaching=function Coaching(props){var className=(0,_utils.createClassName)('path__content',props.className);return _react2.default.createElement('div',_extends({className:className},props),_react2.default.createElement('div',{className:'slds-path__coach'},props.children))};var ActionButton=function ActionButton(_ref){var _ref$stageName=_ref.stageName,stageName=_ref$stageName===undefined?'':_ref$stageName,mark=_ref.mark,props=_objectWithoutProperties(_ref,['stageName','mark']);var buttonClassName=(0,_utils.createClassName)('slds-button','slds-button_brand',props.mark?'slds-path__mark-'+props.mark:'slds-path__mark-complete');return _react2.default.createElement('div',{className:'slds-grid slds-path__action'},_react2.default.createElement('span',{className:'slds-path__stage-name'},stageName),_react2.default.createElement('button',_extends({className:buttonClassName},props,{type:'button'}),_react2.default.createElement(_Svg2.default,{className:'slds-button__icon slds-button__icon_left',variant:'utility',icon:'check'}),props.children))};exports.ActionButton=ActionButton;var Item=exports.Item=function Item(props){var id=(0,_lodash2.default)();var className=(0,_utils.createClassName)('slds-path__item',props.isActive?'slds-is-active':'',props.isCurrent?'slds-is-current':'',props.isComplete?'slds-is-complete':'',!props.isActive&&!props.isComplete&&!props.isCurrent?'slds-is-incomplete':'');var itemId=props.id!==null?props.id:'path-'+id;return _react2.default.createElement('li',{className:className,role:'presentation'},_react2.default.createElement('a',{'aria-selected':'true',className:'slds-path__link',href:'javascript:void(0);',id:itemId,role:'option',tabIndex:'0'},_react2.default.createElement('span',{className:'slds-path__stage'},_react2.default.createElement(_Svg2.default,{className:'slds-button__icon',variant:'utility',icon:'check'}),_react2.default.createElement('span',{className:'slds-assistive-text'},props.assistiveText||'')),_react2.default.createElement('span',{className:'slds-path__title'},props.children)))};var Path=function Path(props){var children=_react2.default.Children.toArray(props.children);var hasCoaching=children.filter(function(c){return c.type===Coaching}).length>0;var pathClassName=(0,_utils.createClassName)('slds-path',props.withOverflow?'slds-has-overflow':'',hasCoaching?'slds-path_has-coaching ':'',props.openCoaching?'slds-is-expanded':'');var trackClassName='slds-grid slds-path__track';var coachButtonCname=(0,_utils.createClassName)('slds-button','slds-button_icon','slds-button_icon-border-filled','slds-path__trigger',props.openCoaching?'slds-path__trigger_open':'');return _react2.default.createElement('div',{className:pathClassName},_react2.default.createElement('div',{className:trackClassName},_react2.default.createElement('div',{className:'slds-grid slds-path__scroller-container'},hasCoaching?_react2.default.createElement('button',{className:coachButtonCname,'aria-expanded':props.openCoaching,onClick:props.onClickCoach},_react2.default.createElement(_Svg2.default,{className:'slds-button__icon',variant:'utility',icon:'chevronright',assistiveText:'Show Details'})):'',_react2.default.createElement('div',{className:'slds-path__scroller',role:'application'},_react2.default.createElement('div',{className:'slds-path__scroller_inner'},_react2.default.createElement('ul',{className:'slds-path__nav',role:'listbox','aria-orientation':'horizontal'},children.filter(function(c){return c.type===Item}).map(function(n,i){return _react2.default.cloneElement(n,_extends({},n.props,{isComplete:(0,_utils.isDefined)(props.activeLevel)&&props.activeLevel>i,isActive:(0,_utils.isDefined)(props.activeLevel)&&props.activeLevel===i,isCurrent:(0,_utils.isDefined)(props.activeLevel)&&props.activeLevel===i}))})),_react2.default.createElement('div',{className:'slds-path__scroll-controls'},_react2.default.createElement('button',{className:'slds-button slds-button_icon slds-button_icon-border-filled',title:'Scroll left',tabIndex:'-1'},_react2.default.createElement(_Svg2.default,{className:'slds-button__icon',variant:'utility',icon:'left'}),_react2.default.createElement('span',{className:'slds-assistive-text'},'Scroll left')),_react2.default.createElement('button',{className:'slds-button slds-button_icon slds-button_icon-border-filled',title:'Scroll right',tabIndex:'-1'},_react2.default.createElement(_Svg2.default,{className:'slds-button__icon',variant:'utility',icon:'right'}),_react2.default.createElement('span',{className:'slds-assistive-text'},'Scroll right')))))),children.filter(function(c){return c.type===ActionButton})),children.filter(function(c){return c.type===Coaching&&props.openCoaching}))};Path.defaultProps={actionLevel:0,openCoaching:false,onClickCoach:function onClickCoach(){}};Path.propTypes={actionLevel:_propTypes2.default.number.isRequired,openCoaching:_propTypes2.default.bool};exports.default=Path;